"use strict";(self.webpackChunkfeed_docs=self.webpackChunkfeed_docs||[]).push([[4733],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return f}});var a=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=a.createContext({}),c=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},p=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),u=c(n),m=o,f=u["".concat(s,".").concat(m)]||u[m]||d[m]||i;return n?a.createElement(f,r(r({ref:t},p),{},{components:n})):a.createElement(f,r({ref:t},p))}));function f(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,r=new Array(i);r[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[u]="string"==typeof e?e:o,r[1]=l;for(var c=2;c<i;c++)r[c]=n[c];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},933:function(e,t,n){n.d(t,{Z:function(){return c}});var a=n(7294),o=n(5697),i=n.n(o),r={editedBy:"editedBy_t81w",block:"block_jsl5",label:"label_ynlq",value:"value_H8Hf"},l={name:i().string.isRequired,updated:i().string,date:i().string.isRequired},s=function(e){var t=e.name,n=e.updated,o=e.date;return a.createElement("div",{className:r.editedBy},a.createElement("div",{className:r.block+" "+(o?"":r.single)},a.createElement("span",{className:r.label},"Author"),a.createElement("span",{className:r.value},t)),n?a.createElement("div",{className:r.block+" "+(o?r.double:"")},a.createElement("span",{className:r.label},"Updated by"),a.createElement("span",{className:r.value},n)):null,a.createElement("div",{className:r.block+" "+(o?r.double:"")},a.createElement("span",{className:r.label},"On"),a.createElement("span",{className:r.value},o)))};s.propTypes=l,s.defaultProps={updated:""};var c=s},1087:function(e,t,n){n.r(t),n.d(t,{assets:function(){return u},contentTitle:function(){return c},default:function(){return h},frontMatter:function(){return s},metadata:function(){return p},toc:function(){return d}});var a=n(3117),o=n(102),i=(n(7294),n(3905)),r=n(933),l=["components"],s={id:"coding-guidelines",title:"Coding guidelines",sidebar_label:"Coding guidelines"},c=void 0,p={unversionedId:"react/coding-guidelines",id:"react/coding-guidelines",title:"Coding guidelines",description:"Configure ESLINT properly",source:"@site/docs/react/coding-guidelines.md",sourceDirName:"react",slug:"/react/coding-guidelines",permalink:"/feed-docs/docs/react/coding-guidelines",draft:!1,editUrl:"https://github.com/feedpm/feed-docs/tree/main/docs/react/coding-guidelines.md",tags:[],version:"current",frontMatter:{id:"coding-guidelines",title:"Coding guidelines",sidebar_label:"Coding guidelines"},sidebar:"docs",previous:{title:"Introduction",permalink:"/feed-docs/docs/react/intro"},next:{title:"React boilerplate",permalink:"/feed-docs/docs/react/boilerplate"}},u={},d=[{value:"Configure ESLINT properly",id:"configure-eslint-properly",level:3},{value:"Destructure props",id:"destructure-props",level:3},{value:"Keep components small and function-specific",id:"keep-components-small-and-function-specific",level:3},{value:"Name the component after the function",id:"name-the-component-after-the-function",level:3},{value:"Always use prop-types to define all the props in every components",id:"always-use-prop-types-to-define-all-the-props-in-every-components",level:3},{value:"Use displayName JSX property to define a particular name for a component",id:"use-displayname-jsx-property-to-define-a-particular-name-for-a-component",level:3},{value:"Default values for props",id:"default-values-for-props",level:3},{value:"Now, on to some general rules:",id:"now-on-to-some-general-rules",level:4},{value:"Consolidate duplicate code \u2013 DRY your code",id:"consolidate-duplicate-code--dry-your-code",level:3},{value:"Create multiple files instead of writing a big file",id:"create-multiple-files-instead-of-writing-a-big-file",level:3},{value:"Your first draft is not always the best one",id:"your-first-draft-is-not-always-the-best-one",level:3},{value:"Meaningful names for files",id:"meaningful-names-for-files",level:3},{value:"State management using Redux",id:"state-management-using-redux",level:3},{value:"Installation",id:"installation",level:4},{value:"Store",id:"store",level:4},{value:"Actions",id:"actions",level:4},{value:"Action Creators",id:"action-creators",level:4},{value:"Reducers",id:"reducers",level:4},{value:"Data flow",id:"data-flow",level:4},{value:"Lazy loading",id:"lazy-loading",level:3},{value:"Styled components",id:"styled-components",level:3},{value:"Installation",id:"installation-1",level:4},{value:"Environment Variables",id:"environment-variables",level:3},{value:"Method 1: Using npm scripts to set environment variables",id:"method-1-using-npm-scripts-to-set-environment-variables",level:4},{value:"Method 2: Using an .env file to set environment variables",id:"method-2-using-an-env-file-to-set-environment-variables",level:4}],m={toc:d},f="wrapper";function h(e){var t=e.components,s=(0,o.Z)(e,l);return(0,i.kt)(f,(0,a.Z)({},m,s,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h3",{id:"configure-eslint-properly"},"Configure ESLINT properly"),(0,i.kt)("p",null,"ESLint covers both code quality and coding style issues. ESLint supports current standards of ECMAScript. Code using JSX or TypeScript can also be processed when a plugin or a transpiler is used. We can enable formatting on save in Visual Studio Code. This will auto correct the coding style when the file is saved. Add the below to settings.json to enable the same."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'"editor.formatOnSave": true,\n"eslint.format.enable": true,\n"eslint.lintTask.enable": true\n')),(0,i.kt)("h3",{id:"destructure-props"},"Destructure props"),(0,i.kt)("p",null,"Try and use destructuring operators to reduce code complexity. For example,"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"const country = this.props.country;\nconst color = this.props.color;\nconst flag = this.props.flag;\n")),(0,i.kt)("p",null,"can be changed to"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"const {country, color, flag} = this.props;\n")),(0,i.kt)("h3",{id:"keep-components-small-and-function-specific"},"Keep components small and function-specific"),(0,i.kt)("p",null,"With React, it\u2019s possible to have huge components that execute a number of tasks. A better way to design components is to keep them small, so that one component corresponds to one function. Ideally, a single component should render a specific bit of your page or modify a particular behavior. There are many advantages to this like:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Function-specific components can be standalone, which makes testing and maintenance easier."),(0,i.kt)("li",{parentName:"ul"},"Each small component can be reused across multiple projects.")),(0,i.kt)("h3",{id:"name-the-component-after-the-function"},"Name the component after the function"),(0,i.kt)("p",null,"It\u2019s a good idea to name a component after the function that it executes so that it\u2019s easily recognizable."),(0,i.kt)("p",null,"For example, ProductTable \u2013 it conveys instantly what the component does. On the other hand, if you name the component based on the need for the code, it can confuse you(and your fellow developers) at a future point of time."),(0,i.kt)("h3",{id:"always-use-prop-types-to-define-all-the-props-in-every-components"},"Always use prop-types to define all the props in every components"),(0,i.kt)("p",null,"If you're writing react with JavaScript, its always a good idea to check for PropTypes(like TypScript forces you to do). Prop-types helps to check the types of props passed to each components runtime."),(0,i.kt)("p",null,"Prior to React 15.5.0, a utility named PropTypes was available as part of the React package, which provided a lot of validators for configuring type definitions for component props. It could be accessed with React.PropTypes."),(0,i.kt)("p",null,"However, in later versions of React, this utility has been moved to a separate package named prop-types, so you need to add it as a dependency for your project in order to get access to the PropTypes utility. You can use it like"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-jsx"},"Component.propTypes = {\n  anyProp: PropTypes.any,\n  booleanProp: PropTypes.bool,\n  numberProp: PropTypes.number,\n  stringProp: PropTypes.string,\n  functionProp: PropTypes.func,\n};\n")),(0,i.kt)("h3",{id:"use-displayname-jsx-property-to-define-a-particular-name-for-a-component"},"Use displayName JSX property to define a particular name for a component"),(0,i.kt)("p",null,"The display name for each components come in handy, when debugging the project. It differentiates each components in React dev tool which is available for both Google Chrome and Mozilla Firefox. Usually, you don\u2019t need to set it explicitly because it\u2019s inferred from the name of the function or class that defines the component. However, in cases where you want to set it explicitily, make sure to use this prop."),(0,i.kt)("h3",{id:"default-values-for-props"},"Default values for props"),(0,i.kt)("p",null,"Always use default values for props, which expects an undefined data."),(0,i.kt)("h4",{id:"now-on-to-some-general-rules"},"Now, on to some general rules:"),(0,i.kt)("h3",{id:"consolidate-duplicate-code--dry-your-code"},"Consolidate duplicate code \u2013 DRY your code"),(0,i.kt)("p",null,"A common rule for all code is to keep it as brief and concise as possible. DRY snippets indicates a pattern in the code, which can be removable. Make a generic function to handle the requirement and invoke the same with different props."),(0,i.kt)("h3",{id:"create-multiple-files-instead-of-writing-a-big-file"},"Create multiple files instead of writing a big file"),(0,i.kt)("p",null,"Break down larger files into smaller pieces, keeping files smaller with fewer lines of code makes debugging and code maintanence much easier."),(0,i.kt)("h3",{id:"your-first-draft-is-not-always-the-best-one"},"Your first draft is not always the best one"),(0,i.kt)("p",null,"Take your time to undeserstand the better approach for implementing a feature or fixing a bug. If you find a better way than what you have implemented already, please go for that. Also use TODO's to not lose track of changes you want to implement."),(0,i.kt)("h3",{id:"meaningful-names-for-files"},"Meaningful names for files"),(0,i.kt)("p",null,"If you name your files according to the job that they perform, it will also help you in the future as well as other developers to understand what the file actually does.A better way will be to prefix them with the job that they are supposed to perform. For instance, userDropdown.js, fileDropdown.js, and so on."),(0,i.kt)("h3",{id:"state-management-using-redux"},"State management using Redux"),(0,i.kt)("p",null,"Redux is a predictable state container for JavaScript apps. You can use Redux together with React, or with any other view library. It is tiny (2kB, including dependencies), but has a large ecosystem of addons available."),(0,i.kt)("h4",{id:"installation"},"Installation"),(0,i.kt)("p",null,"Redux is available as a package on NPM for use with a module bundler or in a Node application:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"# NPM\nnpm install redux\n\n# Yarn\nyarn add redux\n")),(0,i.kt)("p",null,"In this guide, we'll walk through."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Store"),(0,i.kt)("li",{parentName:"ul"},"Actions"),(0,i.kt)("li",{parentName:"ul"},"Reducers"),(0,i.kt)("li",{parentName:"ul"},"Data flow"),(0,i.kt)("li",{parentName:"ul"},"Usage with React")),(0,i.kt)("h4",{id:"store"},"Store"),(0,i.kt)("p",null,"The store has the following responsibilities:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Holds application state;"),(0,i.kt)("li",{parentName:"ul"},"Allows access to state via getState();"),(0,i.kt)("li",{parentName:"ul"},"Allows state to be updated via dispatch(action);"),(0,i.kt)("li",{parentName:"ul"},"Registers listeners via subscribe(listener);"),(0,i.kt)("li",{parentName:"ul"},"Handles unregistering of listeners via the function returned by subscribe(listener).")),(0,i.kt)("p",null,"It's important to note that you'll only have a ",(0,i.kt)("inlineCode",{parentName:"p"},"single store")," in a Redux application. When you want to split your data handling logic, you'll use reducer composition instead of many stores."),(0,i.kt)("h4",{id:"actions"},"Actions"),(0,i.kt)("p",null,"Actions are payloads of information that send data from your application to your store. They are the only source of information for the store. You send them to the store using ",(0,i.kt)("inlineCode",{parentName:"p"},"store.dispatch()"),"."),(0,i.kt)("p",null,"Here's an example action which represents adding a new todo item:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"const ADD_TODO = 'ADD_TODO';\n")),(0,i.kt)("p",null,"Actions are plain JavaScript objects. Actions must have a ",(0,i.kt)("inlineCode",{parentName:"p"},"type")," property that indicates the type of action being performed. Types should typically be defined as string constants."),(0,i.kt)("h4",{id:"action-creators"},"Action Creators"),(0,i.kt)("p",null,"Action creators are exactly functions that create actions. In Redux, action creators simply return an action:"),(0,i.kt)("h4",{id:"reducers"},"Reducers"),(0,i.kt)("p",null,"Reducers specify how the application's state changes in response to actions sent to the store. Remember that actions only describe what happened, but don't describe how the application's state changes."),(0,i.kt)("h4",{id:"data-flow"},"Data flow"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"React-Redux Data Flow",src:n(8432).Z,width:"691",height:"500"})),(0,i.kt)("h3",{id:"lazy-loading"},"Lazy loading"),(0,i.kt)("p",null,"Most of the times our users don\u2019t see the whole web page, at least in the beginning. No matter how our application UI has been structured, there are certain components the user might not need initially or ever!"),(0,i.kt)("p",null,"In these cases, rendering those components not only harms our application\u2019s performance but also wastes a lot of resources."),(0,i.kt)("p",null,"So, loading or rendering those components on demand seems to be a more efficient decision. It can improve the application\u2019s performance, and at the same time can save us a lot of resources."),(0,i.kt)("p",null,"It can be done by using ",(0,i.kt)("inlineCode",{parentName:"p"},"React.lazy")," or other libraries like ",(0,i.kt)("inlineCode",{parentName:"p"},"react-lazyload")),(0,i.kt)("h3",{id:"styled-components"},"Styled components"),(0,i.kt)("p",null,"CSS-in-JS is a styling approach that abstracts the CSS model to the component level, rather than the document level. This is the idea that CSS can be scoped to a specific component only and as opposed to the document level. The benefits of using CSS-in-JS includes:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Reduce the number of HTTP requests:")," CSS-in-JS would mean that we don't have to make HTTP requests to load assets and resources."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Styling Fragmentation:")," Using CSS-in-JS means you can write styles freely without worrying about compatibility issues.")),(0,i.kt)("p",null,"An example of the CSS-in-JS approach is styled-components. Styled Components allow you to write plain CSS in your components without worrying about class name collisions. It helps to write CSS that's scoped to a single component and does not leak to any other element in the page."),(0,i.kt)("h4",{id:"installation-1"},"Installation"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"yarn add styled-components\n")),(0,i.kt)("h3",{id:"environment-variables"},"Environment Variables"),(0,i.kt)("p",null,"Environment variables are variables that are available through a global process.env Object."),(0,i.kt)("p",null,"Your project can consume variables declared in your environment as if they were declared locally in your JS files. By default you will have NODE",(0,i.kt)("em",{parentName:"p"},"ENV defined for you, and any other environment variables starting with REACT_APP"),"."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"WARNING: Do not store any secrets (such as private API keys) in your React app!\n\nEnvironment variables are embedded into the build, meaning anyone can view them by inspecting your app's files.\n\n")),(0,i.kt)("h4",{id:"method-1-using-npm-scripts-to-set-environment-variables"},"Method 1: Using npm scripts to set environment variables"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "scripts": {\n    "dev": "webpack --env.API_URL=http://localhost:8000 --config webpack.config.dev.js",\n    "build": "webpack --env.API_URL=https://www.test.com --config webpack.config.build.js"\n  }\n}\n')),(0,i.kt)("h4",{id:"method-2-using-an-env-file-to-set-environment-variables"},"Method 2: Using an .env file to set environment variables"),(0,i.kt)("p",null,"The whole idea here is to create a file (called just .env) filled with your environment variables."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-yaml"},"API_URL=http://localhost:8000\n")),(0,i.kt)(r.Z,{name:"Govind, Bibhu",date:"17/05/2020",mdxType:"EditedBy"}))}h.isMDXComponent=!0},8432:function(e,t,n){t.Z=n.p+"assets/images/redux-data-flow-2c151ef8ea6dc7c6e643436f6cc32478.png"}}]);