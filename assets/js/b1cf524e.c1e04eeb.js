"use strict";(self.webpackChunkfeed_docs=self.webpackChunkfeed_docs||[]).push([[3849],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return k}});var a=n(7294);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,l=function(e,t){if(null==e)return{};var n,a,l={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var d=a.createContext({}),s=function(e){var t=a.useContext(d),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=s(e.components);return a.createElement(d.Provider,{value:t},e.children)},u="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var n=e.components,l=e.mdxType,r=e.originalType,d=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),u=s(n),c=l,k=u["".concat(d,".").concat(c)]||u[c]||m[c]||r;return n?a.createElement(k,i(i({ref:t},p),{},{components:n})):a.createElement(k,i({ref:t},p))}));function k(e,t){var n=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var r=n.length,i=new Array(r);i[0]=c;var o={};for(var d in t)hasOwnProperty.call(t,d)&&(o[d]=t[d]);o.originalType=e,o[u]="string"==typeof e?e:l,i[1]=o;for(var s=2;s<r;s++)i[s]=n[s];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},933:function(e,t,n){n.d(t,{Z:function(){return s}});var a=n(7294),l=n(5697),r=n.n(l),i={editedBy:"editedBy_t81w",block:"block_jsl5",label:"label_ynlq",value:"value_H8Hf"},o={name:r().string.isRequired,updated:r().string,date:r().string.isRequired},d=function(e){var t=e.name,n=e.updated,l=e.date;return a.createElement("div",{className:i.editedBy},a.createElement("div",{className:i.block+" "+(l?"":i.single)},a.createElement("span",{className:i.label},"Author"),a.createElement("span",{className:i.value},t)),n?a.createElement("div",{className:i.block+" "+(l?i.double:"")},a.createElement("span",{className:i.label},"Updated by"),a.createElement("span",{className:i.value},n)):null,a.createElement("div",{className:i.block+" "+(l?i.double:"")},a.createElement("span",{className:i.label},"On"),a.createElement("span",{className:i.value},l)))};d.propTypes=o,d.defaultProps={updated:""};var s=d},4468:function(e,t,n){n.r(t),n.d(t,{assets:function(){return u},contentTitle:function(){return s},default:function(){return g},frontMatter:function(){return d},metadata:function(){return p},toc:function(){return m}});var a=n(3117),l=n(102),r=(n(7294),n(3905)),i=n(933),o=["components"],d={id:"coding-guidelines",title:"Coding guidelines",sidebar_label:"Coding guidelines"},s=void 0,p={unversionedId:"angular/coding-guidelines",id:"angular/coding-guidelines",title:"Coding guidelines",description:"Use Angular CLI",source:"@site/docs/angular/coding-guidelines.md",sourceDirName:"angular",slug:"/angular/coding-guidelines",permalink:"/feed-docs/docs/angular/coding-guidelines",draft:!1,editUrl:"https://github.com/feedpm/feed-docs/tree/main/docs/angular/coding-guidelines.md",tags:[],version:"current",frontMatter:{id:"coding-guidelines",title:"Coding guidelines",sidebar_label:"Coding guidelines"},sidebar:"docs",previous:{title:"Introduction",permalink:"/feed-docs/docs/angular/intro"},next:{title:"Starter Kit",permalink:"/feed-docs/docs/angular/trainings/road-map"}},u={},m=[{value:"Use Angular CLI",id:"use-angular-cli",level:3},{value:"Folder structure",id:"folder-structure",level:3},{value:"Core module",id:"core-module",level:3},{value:"Shared module",id:"shared-module",level:3},{value:"Naming Conventions",id:"naming-conventions",level:3},{value:"Single Responsibility",id:"single-responsibility",level:3},{value:"Lazy load feature module",id:"lazy-load-feature-module",level:3},{value:"Use tree-shakable providers",id:"use-tree-shakable-providers",level:3},{value:"Create aliase for imports",id:"create-aliase-for-imports",level:3},{value:"Use interfaces",id:"use-interfaces",level:3},{value:"Set up ENV variables",id:"set-up-env-variables",level:3},{value:"Use directives",id:"use-directives",level:3},{value:"Use trackby*",id:"use-trackby",level:3},{value:"Prevent null exceptions",id:"prevent-null-exceptions",level:3},{value:"Preserve immutability to avoid suprises",id:"preserve-immutability-to-avoid-suprises",level:3},{value:"Prevent memory leaks",id:"prevent-memory-leaks",level:3},{value:"Avoid logic in template",id:"avoid-logic-in-template",level:3},{value:"Keep it tidy",id:"keep-it-tidy",level:3},{value:"Member sequence",id:"member-sequence",level:3},{value:"Cheetsheet",id:"cheetsheet",level:3},{value:"Further reading",id:"further-reading",level:3}],c={toc:m},k="wrapper";function g(e){var t=e.components,n=(0,l.Z)(e,o);return(0,r.kt)(k,(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h3",{id:"use-angular-cli"},"Use Angular CLI"),(0,r.kt)("p",null,"This command line interface helps you scaffold your code in minutes. It references components into their own modules and complies with naming conventions as well."),(0,r.kt)("p",null,"Refer: ",(0,r.kt)("a",{parentName:"p",href:"https://cli.angular.io",title:"Angular CLI"},"Angular CLI")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"folder-structure"},"Folder structure"),(0,r.kt)("p",null,"Split your app into core, shared and multiple feature modules."),(0,r.kt)("dl",null,(0,r.kt)("dt",null,"[ project root ]"),(0,r.kt)("dd",null,"|--- src",(0,r.kt)("dd",null,"|--- app",(0,r.kt)("dd",null,"|--- core",(0,r.kt)("dd",null,"|--- [+] guard"),(0,r.kt)("dd",null,"|--- [+] interceptor"),(0,r.kt)("dd",null,"|--- [+] service"),(0,r.kt)("dd",null,"|--- [+] model")),(0,r.kt)("dd",null,"|--- shared",(0,r.kt)("dd",null,"|--- component",(0,r.kt)("dd",null,"|--- [+]spinner")),(0,r.kt)("dd",null,"|--- services",(0,r.kt)("dd",null,"|--- validation.service.ts|spec.ts")),(0,r.kt)("dd",null,"|--- [+] pipes"),(0,r.kt)("dd",null,"|--- [+] directives"),(0,r.kt)("dd",null,"|--- shared.module.ts")),(0,r.kt)("dd",null,"|--- layout",(0,r.kt)("dd",null,"|--- [+] auth-layout"),(0,r.kt)("dd",null,"|--- [+] content-layout"),(0,r.kt)("dd",null,"|--- [+] footer"),(0,r.kt)("dd",null,"|--- [+] header")),(0,r.kt)("dd",null,"|-- user-profile",(0,r.kt)("dd",null,"|--- [+] edit-profile"),(0,r.kt)("dd",null,"|--- [+] view-profile"),(0,r.kt)("dd",null,"|--- user-profile.component.ts|html|scss|spec.ts"),(0,r.kt)("dd",null,"|--- user-profile.module.ts"),(0,r.kt)("dd",null,"|--- user-profile-routing.module.ts")),(0,r.kt)("dd",null,"|--- app.component.ts|html|scss|spec.ts"),(0,r.kt)("dd",null,"|--- app.module.ts"),(0,r.kt)("dd",null,"|--- app-routing.module.ts")),(0,r.kt)("dd",null,"|--- main.ts"),(0,r.kt)("dd",null,"|--- [+] environments"))),(0,r.kt)("h3",{id:"core-module"},"Core module"),(0,r.kt)("p",null,"This module is for classes used by app.module. Resources which are always loaded such as route guards, HTTP interceptors, and application level services, such as the AuthenticationService and logging belongs to this directory."),(0,r.kt)("h3",{id:"shared-module"},"Shared module"),(0,r.kt)("p",null,"Shared module can have components, directives and pipes that will be shared across multiple modules and components, but not the entire app necessarily."),(0,r.kt)("p",null,"We already have a Angular boilerplate that follows the aforementioned rules and can be used for new projects."),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://code.qburst.com/lawrence/angular-8-boilerplate"},"FEED Angular Boilerplate")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"naming-conventions"},"Naming Conventions"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Syntax"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Example"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"File Name"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Dashed Case/Kebab Case ",(0,r.kt)("br",null)," feature(.component/.pipe/.module/.directive).ts"),(0,r.kt)("td",{parentName:"tr",align:"left"},"user-list.component.ts, logger.service.ts")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Class Name"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Upper Camel Case/Pascal Case"),(0,r.kt)("td",{parentName:"tr",align:"left"},"TrainingListComponent, ValidationDirective")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Component Selector Name"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Dashed Case/Kebab Case"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"'admin-users', 'fd-title-bar'")," (fd stands for FEED Docs)")))),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"single-responsibility"},"Single Responsibility"),(0,r.kt)("p",null,"Redistribute the component and its supporting classes into their own, dedicated files. A class should have only one job."),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"lazy-load-feature-module"},"Lazy load feature module"),(0,r.kt)("p",null,"A feature module shouldn\u2019t be loaded initially, but when only you decide to initiate it. Thereby making your Angular app load faster. Here is an example on how to initiate a lazy loaded feature module via ",(0,r.kt)("em",{parentName:"p"},"app-routing.module.ts")," file."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const routes: Routes = [\n  {\n    path: 'dashboard',\n    loadChildren: 'app/dashboard/dashboard.module#DashboardModule',\n    component: CoreComponent,\n  },\n];\n")),(0,r.kt)("h3",{id:"use-tree-shakable-providers"},"Use tree-shakable providers"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"@Injectable({\n  providedIn: 'root'\n})\n")),(0,r.kt)("p",null,"Please note that ",(0,r.kt)("em",{parentName:"p"},"root")," can be replaced with any module where you wish to provide your service with."),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"create-aliase-for-imports"},"Create aliase for imports"),(0,r.kt)("p",null,"Use aliases for imports that are several levels deep."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import {LoaderService} from '../../../loader/loader.service';\n")),(0,r.kt)("p",null,"This can be configured in ",(0,r.kt)("em",{parentName:"p"},"tsconfig.json")," file."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'{\n  "compileOnSave": false,\n  "compilerOptions": {\n    removed for brevity,\n    "paths": {\n      "@app/*": ["app/*"],\n      "@env/*": ["environments/*"]\n    }\n  }\n}\n')),(0,r.kt)("p",null,"And resulting code will look like:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import { LoaderService } from '@app/loader/loader.service';\nimport { environment } from '@env/environment\u2019;\n")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"use-interfaces"},"Use interfaces"),(0,r.kt)("p",null,"Use interface for data models. Interfaces are completely removed during compilation and so they will not add any unnecessary bloat to your final code."),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"set-up-env-variables"},"Set up ENV variables"),(0,r.kt)("p",null,"Use environment files for storing app keys/secrets. Create an example environment file with placeholders to provide information about fields required and push it to source control . Its also good practice to maintain separate environment files for ",(0,r.kt)("em",{parentName:"p"},"develop"),", ",(0,r.kt)("em",{parentName:"p"},"staging"),", and ",(0,r.kt)("em",{parentName:"p"},"prod")," environments."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Do not check in the actual environment file to source control and create a security vulnerability!")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"use-directives"},"Use directives"),(0,r.kt)("p",null,"Use directives when same behavior is repeated for HTML elements. Example - hover animations."),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"use-trackby"},"Use trackby","*"),(0,r.kt)("p",null,"When using ngFor to loop over an array in templates, use it with a ",(0,r.kt)("em",{parentName:"p"},"trackByfunction")," which will return an unique identifier for each item. When an array changes, Angular re-renders the whole DOM tree. But if you use ",(0,r.kt)("em",{parentName:"p"},"trackBy"),", Angular will know which element has changed and will only make DOM changes for that particular element."),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"prevent-null-exceptions"},"Prevent null exceptions"),(0,r.kt)("p",null,"Use the safe navigation operator while accessing an object's property from a template. This helps in avoiding exceptions."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'<div class="col-md-3">\n  {{user?.name}}\n</div>\n')),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"preserve-immutability-to-avoid-suprises"},"Preserve immutability to avoid suprises"),(0,r.kt)("p",null,"The easiest way to avoid messing up objects and arrays unintentionally is by using the ",(0,r.kt)("em",{parentName:"p"},"ES6 spread operator (...)"),"."),(0,r.kt)("p",null,"Original object"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"this.user = {\n  name: 'Dzon',\n  age: 25,\n  addr\n")),(0,r.kt)("p",null,"Cloned object"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"let updatedUser = {\n  ...this.user,\n  name: 'Peter',\n};\n")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"prevent-memory-leaks"},"Prevent memory leaks"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"When subscribing to observables, always make sure you unsubscribe from them appropriately by using operators like take, takeUntil, etc."),(0,r.kt)("li",{parentName:"ul"},"Make use of ",(0,r.kt)("em",{parentName:"li"},"async pipe")," wherever applicable.")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"avoid-logic-in-template"},"Avoid logic in template"),(0,r.kt)("p",null,"Avoid complex logic in templates as it is harder to debug and less maintainable. Extract complex logic to functions in the component file instead."),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"keep-it-tidy"},"Keep it tidy"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Limit files to 400 Lines of code."),(0,r.kt)("li",{parentName:"ul"},"Try to be DRY."),(0,r.kt)("li",{parentName:"ul"},"Define small functions (no more than 75 lines).")),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"member-sequence"},"Member sequence"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Place properties up top followed by methods."),(0,r.kt)("li",{parentName:"ul"},"Place private members after public members, alphabetized.")),(0,r.kt)("h3",{id:"cheetsheet"},"Cheetsheet"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Avoid"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Recommended Usage"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Component selectors"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"selector: 'fdTitleBar'")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"selector: 'fd-title-bar'"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Component custom prefix"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"selector: 'title'")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"selector: 'fd-title'"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Directive selectors"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"selector: '[validate]'")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"selector: '[fdValidate]'"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Pipe names (init-caps.pipe.ts)"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"@Pipe({ name: 'init-caps' })")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"@Pipe({ name: 'initCaps' })"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Components as elements"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"<div fdTitleBar></div>")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"<fd-title-bar></fd-title-bar>"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Decorate input and output properties"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"inputs: ['label']")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"@Input() label: string;"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"outputs: ['titleChange']")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"@Output() titleChange = new EventEmitter<any>();"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Dont prefix output properties"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"@Output() onSavedTheDay = new EventEmitter<boolean>();")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"@Output() savedTheDay = new EventEmitter<boolean>();"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Put presentation logic in the component class"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"Average power: {{totalPowers / items.length}}")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"Average power: {{avgPower}}"),(0,r.kt)("br",null)," In Component,",(0,r.kt)("br",null)," ",(0,r.kt)("inlineCode",{parentName:"td"},"get avgPower() { return this.totalPowers / this.items.length;}"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Use the @Injectable() class decorator"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"@Inject(HttpClient) private http: HttpClient")),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"@Injectable()")," ",(0,r.kt)("div",null,(0,r.kt)("inlineCode",{parentName:"td"},"export class HeroArena {constructor(private http: HttpClient) {}}")))))),(0,r.kt)("h3",{id:"further-reading"},"Further reading"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://angular.io/guide/styleguide"},"Official Angular style guide")),(0,r.kt)(i.Z,{name:"Indu Rani",updated:"Reshma S Raveendran",date:"21/04/2020",mdxType:"EditedBy"}))}g.isMDXComponent=!0}}]);