"use strict";(self.webpackChunkfeed_docs=self.webpackChunkfeed_docs||[]).push([[3401],{3905:function(e,n,t){t.d(n,{Zo:function(){return u},kt:function(){return f}});var o=t(7294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function r(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n){if(null==e)return{};var t,o,a=function(e,n){if(null==e)return{};var t,o,a={},c=Object.keys(e);for(o=0;o<c.length;o++)t=c[o],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(o=0;o<c.length;o++)t=c[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var l=o.createContext({}),s=function(e){var n=o.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):r(r({},n),e)),t},u=function(e){var n=s(e.components);return o.createElement(l.Provider,{value:n},e.children)},p="mdxType",m={inlineCode:"code",wrapper:function(e){var n=e.children;return o.createElement(o.Fragment,{},n)}},d=o.forwardRef((function(e,n){var t=e.components,a=e.mdxType,c=e.originalType,l=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),p=s(t),d=a,f=p["".concat(l,".").concat(d)]||p[d]||m[d]||c;return t?o.createElement(f,r(r({ref:n},u),{},{components:t})):o.createElement(f,r({ref:n},u))}));function f(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var c=t.length,r=new Array(c);r[0]=d;var i={};for(var l in n)hasOwnProperty.call(n,l)&&(i[l]=n[l]);i.originalType=e,i[p]="string"==typeof e?e:a,r[1]=i;for(var s=2;s<c;s++)r[s]=t[s];return o.createElement.apply(null,r)}return o.createElement.apply(null,t)}d.displayName="MDXCreateElement"},933:function(e,n,t){t.d(n,{Z:function(){return s}});var o=t(7294),a=t(5697),c=t.n(a),r={editedBy:"editedBy_t81w",block:"block_jsl5",label:"label_ynlq",value:"value_H8Hf"},i={name:c().string.isRequired,updated:c().string,date:c().string.isRequired},l=function(e){var n=e.name,t=e.updated,a=e.date;return o.createElement("div",{className:r.editedBy},o.createElement("div",{className:r.block+" "+(a?"":r.single)},o.createElement("span",{className:r.label},"Author"),o.createElement("span",{className:r.value},n)),t?o.createElement("div",{className:r.block+" "+(a?r.double:"")},o.createElement("span",{className:r.label},"Updated by"),o.createElement("span",{className:r.value},t)):null,o.createElement("div",{className:r.block+" "+(a?r.double:"")},o.createElement("span",{className:r.label},"On"),o.createElement("span",{className:r.value},a)))};l.propTypes=i,l.defaultProps={updated:""};var s=l},9677:function(e,n,t){t.r(n),t.d(n,{assets:function(){return p},contentTitle:function(){return s},default:function(){return h},frontMatter:function(){return l},metadata:function(){return u},toc:function(){return m}});var o=t(3117),a=t(102),c=(t(7294),t(3905)),r=t(933),i=["components"],l={id:"functional-components",title:"FunctionalComponents",sidebar_label:"FunctionalComponents"},s=void 0,u={unversionedId:"react/training/functional-components",id:"react/training/functional-components",title:"FunctionalComponents",description:"What is Functional Components",source:"@site/docs/react/training/functionalComponents.md",sourceDirName:"react/training",slug:"/react/training/functional-components",permalink:"/feed-docs/docs/react/training/functional-components",draft:!1,editUrl:"https://github.com/feedpm/feed-docs/tree/main/docs/react/training/functionalComponents.md",tags:[],version:"current",frontMatter:{id:"functional-components",title:"FunctionalComponents",sidebar_label:"FunctionalComponents"},sidebar:"docs",previous:{title:"Lifting States",permalink:"/feed-docs/docs/react/training/lifting-state"},next:{title:"Handling Form events",permalink:"/feed-docs/docs/react/training/form-events"}},p={},m=[{value:"What is Functional Components",id:"what-is-functional-components",level:3},{value:"Why Functional Components",id:"why-functional-components",level:3},{value:"When to use Functional Components",id:"when-to-use-functional-components",level:3},{value:"React Hooks",id:"react-hooks",level:3},{value:"State Hook",id:"state-hook",level:3},{value:"Effect Hook",id:"effect-hook",level:3},{value:"Effect Hook without Cleanup",id:"effect-hook-without-cleanup",level:3},{value:"Effect Hook with cleanup",id:"effect-hook-with-cleanup",level:3},{value:"Ref Hook",id:"ref-hook",level:3}],d={toc:m},f="wrapper";function h(e){var n=e.components,t=(0,a.Z)(e,i);return(0,c.kt)(f,(0,o.Z)({},d,t,{components:n,mdxType:"MDXLayout"}),(0,c.kt)("h3",{id:"what-is-functional-components"},"What is Functional Components"),(0,c.kt)("p",null,"The core building blocks of React are Components. These components may be Class based which possess enough complexity to require state and lifecycle methods. However some are simple enough that they can be written as pure Javascript functions which are known as functional Components."),(0,c.kt)("pre",null,(0,c.kt)("code",{parentName:"pre",className:"language-jsx"},"function Welcome(props) {\n  return <h1>Hello, {props.name}</h1>;\n}\n")),(0,c.kt)("p",null,"The above is an example of functional Component"),(0,c.kt)("pre",null,(0,c.kt)("code",{parentName:"pre",className:"language-jsx"},"class Welcome extends React.Component {\n  render() {\n    return <h1>Hello, {this.props.name}</h1>;\n  }\n}\n")),(0,c.kt)("p",null,"Both are same and will give you the same output. A functional component is just a plain JavaScript function which accepts props as an argument and returns a React element.The code transpiled by babel looks like"),(0,c.kt)("pre",null,(0,c.kt)("code",{parentName:"pre",className:"language-jsx"},"function Welcome(props) {\n  return React.createElement('h1', null, 'Hello,', props.name);\n}\n")),(0,c.kt)("h3",{id:"why-functional-components"},"Why Functional Components"),(0,c.kt)("ul",null,(0,c.kt)("li",{parentName:"ul"},"Functional component are much easier to read and test because they are plain JavaScript functions"),(0,c.kt)("li",{parentName:"ul"},"You end up with less code"),(0,c.kt)("li",{parentName:"ul"},"It is easier to separate container and presentational components."),(0,c.kt)("li",{parentName:"ul"},"The React team mentioned that there may be a performance boost for functional component.")),(0,c.kt)("p",null,"Because a functional component is just a plain JavaScript function, you cannot use setState() in your component. That\u2019s why they also get called as functional stateless components."),(0,c.kt)("h3",{id:"when-to-use-functional-components"},"When to use Functional Components"),(0,c.kt)("p",null,"You should use functional components if you are writing a presentational component which doesn\u2019t have its own state or needs to access a lifecycle hook. Otherwise use class components or take a look into the library recompose which allows you to write functional components and enhance them with a state or lifecycle hooks with HOCs!"),(0,c.kt)("h3",{id:"react-hooks"},"React Hooks"),(0,c.kt)("p",null,"The primitive functional component which doesn't allow state or any lifecycle methods has been changed with React 16.8.0 version update by introduction of React Hooks."),(0,c.kt)("h3",{id:"state-hook"},"State Hook"),(0,c.kt)("p",null,"In class based components, state initiation and it's changes are accesed via this.state and this.setstate().Similarly we use useState in functional components.The useState returns value, its accessor and is initiated at the start:"),(0,c.kt)("pre",null,(0,c.kt)("code",{parentName:"pre",className:"language-jsx"},"const [state, setState] = useState(initialState);\n")),(0,c.kt)("pre",null,(0,c.kt)("code",{parentName:"pre",className:"language-jsx"},"import React, {useState} from 'react';\n\nfunction SampleHook() {\n  const [count, setCount] = useState(0);\n  return (\n    <div>\n      <p>You clicked {count} times</p>\n      <button onClick={() => setCount(count + 1)}>Click me</button>\n    </div>\n  );\n}\n")),(0,c.kt)("h3",{id:"effect-hook"},"Effect Hook"),(0,c.kt)("p",null,"The Effect Hook, useEffect, adds the ability to perform side effects from a function component. It serves the same purpose as componentDidMount, componentDidUpdate, and componentWillUnmount in React classes, but unified into a single API."),(0,c.kt)("h3",{id:"effect-hook-without-cleanup"},"Effect Hook without Cleanup"),(0,c.kt)("p",null,"Here at each time this functional component renders (including first render and subsequent re-renders due to count change) will execute effect hook function."),(0,c.kt)("pre",null,(0,c.kt)("code",{parentName:"pre",className:"language-jsx"},"import React, {useState, useEffect} from 'react';\nfunction App() {\n  const [count, setCount] = useState(0);\n  useEffect(() => {\n    document.title = `You clicked ${count} times`;\n  });\n  return (\n    <div>\n      <p>You clicked {count} times</p>\n      <button onClick={() => setCount(count + 1)}> Click </button>\n    </div>\n  );\n}\n")),(0,c.kt)("ul",null,(0,c.kt)("li",{parentName:"ul"},"Conditional execution of Effect hook")),(0,c.kt)("p",null,"This effect hook acts for each render, so can replace lifecycle methods such as componentDidMount & componentDidUpdate.In above example, hook function will execute on component mounting (first render) as well as component updating (re-rendering), and might not be required to execute every time. Thereby effect hook execution can be restricted, and decided by second parameter passed to useFffect."),(0,c.kt)("pre",null,(0,c.kt)("code",{parentName:"pre",className:"language-jsx"},"useEffect(() => {\n  document.title = `You clicked ${count} times`;\n}, [count]);\n")),(0,c.kt)("p",null,"In above e.g., it\u2019ll be executed at first render and whenever there is change in count as given by second parameter as ","[count]","."),(0,c.kt)("h3",{id:"effect-hook-with-cleanup"},"Effect Hook with cleanup"),(0,c.kt)("p",null,"In class component, you\u2019ll be subscribing to external source in componentDidMount. Thereby when removing the component, subscription should be removed in componentWillUnmount. In hooks it's called cleanup, and if function is returned from effect hook (optional) it\u2019ll be used for cleanup when unmounting this functional component."),(0,c.kt)("pre",null,(0,c.kt)("code",{parentName:"pre",className:"language-jsx"},"import React, { useState, useEffect } from 'react';\n\nfunction FriendStatus(id) {\n  const [isOnline, setIsOnline] = useState(null);\n\n  useEffect(() => {\n    function handleStatusChange(status) {\n      setIsOnline(status.isOnline);\n    }\n\n    ChatAPI.subscribe(id, handleStatusChange);\n    return function cleanup() {\n      ChatAPI.unsubscribe(id, handleStatusChange);\n    };\n  });\n\n  return(\n     if (isOnline === null) 'Loading...';\n     else isOnline ? 'Online' : 'Offline';\n  );\n}\n")),(0,c.kt)("h3",{id:"ref-hook"},"Ref Hook"),(0,c.kt)("p",null,"Reference hook can be used to refer React element created by render method. When there are DOM changes, refs.current value will be up to date."),(0,c.kt)("pre",null,(0,c.kt)("code",{parentName:"pre",className:"language-jsx"},"import React, {useRef} from 'react';\nfunction App() {\n  const inputElement = useRef(null);\n  const onButtonClick = () => {\n    inputElement.current.focus();\n  };\n  return (\n    <>\n      <input ref={inputElement} type=\"text\" />\n      <button onClick={onButtonClick}>Focus</button>\n    </>\n  );\n}\n")),(0,c.kt)(r.Z,{name:"Steffy",date:"21/05/2020",mdxType:"EditedBy"}))}h.isMDXComponent=!0}}]);